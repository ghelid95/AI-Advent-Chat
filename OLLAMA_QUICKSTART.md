# Ollama Optimization - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ß—Ç–æ —ç—Ç–æ?

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π LLM —á–µ—Ä–µ–∑ Ollama:
- üéØ 5 –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤ (Balanced, Fast, Quality, Creative, Precise)
- üìù 15 —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- üî¨ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Ollama

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

### 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ Ollama
```
–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Ollama" –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ Optimization Lab
```
–ù–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É "üîß" (Build) –≤ toolbar
```

### 3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ—Å–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ
```
–í–∫–ª–∞–¥–∫–∞ Presets ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí Save Selected Preset
```

## –ü—Ä–∏–º–µ—Ä: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ó–∞–¥–∞—á–∞
–£–∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª—É—á—à–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞.

### –®–∞–≥–∏
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "Templates"**
2. **–í—ã–±–µ—Ä–∏—Ç–µ "Code Review" ‚Üí "Use Template"**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Comparison"**
4. **–í—ã–±–µ—Ä–∏—Ç–µ —á–∏–ø—ã**: Balanced, Quality, Precise
5. **–ù–∞–∂–º–∏—Ç–µ "Run Comparison"**
6. **–ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
   - Quality: 35 tok/s, –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ ‚úÖ
   - Balanced: 48 tok/s, —Ö–æ—Ä–æ—à–∏–π –∞–Ω–∞–ª–∏–∑
   - Precise: 32 tok/s, –æ—á–µ–Ω—å –¥–µ—Ç–∞–ª—å–Ω—ã–π ‚úÖ‚úÖ

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–î–ª—è code review –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Quality** –∏–ª–∏ **Precise**.

## –ü—Ä–∏–º–µ—Ä: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

### –ó–∞–¥–∞—á–∞
–ú–æ–¥–µ–ª—å –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

### –†–µ—à–µ–Ω–∏–µ
```
1. Presets ‚Üí Fast ‚Üí Save
2. Comparison ‚Üí –ü—Ä–æ–º–ø—Ç: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—É–Ω–∫—Ü–∏—è?"
3. –í—ã–±—Ä–∞—Ç—å: Balanced, Fast
4. Run Comparison
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
Balanced: 42 tok/s, 1200ms
Fast:     78 tok/s, 650ms  ‚Üê –í 2 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ!
```

## –ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ custom –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ó–∞–¥–∞—á–∞
–£ –≤–∞—Å –º–æ—â–Ω—ã–π CPU (16 —è–¥–µ—Ä) –∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å.

### –®–∞–≥–∏
```
1. Custom –≤–∫–ª–∞–¥–∫–∞
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Context Window: 1024 (–º–µ–Ω—å—à–µ = –±—ã—Å—Ç—Ä–µ–µ)
   - Threads: 16 (–ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —è–¥–µ—Ä)
   - Temperature: 0.5
   - Top-K: 20
   - Max Tokens: 512
3. –ò–º—è: "Speed Max"
4. Save Custom Configuration
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤

| –ü—Ä–µ—Å–µ—Ç | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|--------|----------|----------|------------|
| **Fast** | ‚ö°‚ö°‚ö° | ‚≠ê‚≠ê | –ü—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã |
| **Balanced** | ‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ |
| **Quality** | ‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê | –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞, —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ |
| **Creative** | ‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π, –∫—Ä–µ–∞—Ç–∏–≤ |
| **Precise** | ‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ö–æ–¥, —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã |

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤

üìä **Code Analysis**
- Analyze Code
- Assess Complexity

üíª **Code Generation**
- Generate Function
- Generate Class
- Generate Unit Tests

üìù **Documentation**
- Add Documentation
- Create README

üêõ **Debugging**
- Debug Error
- Optimize Performance

üîÑ **Refactoring**
- Refactor Code
- Extract Method

‚úÖ **Code Review**
- Code Review
- Security Audit

‚ùì **General**
- Explain Code
- Compare Approaches

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Ollama

```bash
# –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
ollama list

# –ó–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–∏
ollama run llama2

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
ollama pull llama2:13b-q4

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:11434/api/tags
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã - –®–ø–∞—Ä–≥–∞–ª–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|----------|--------|
| **num_ctx** | 512-8192 | –†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| **num_thread** | 4-32 | CPU –ø–æ—Ç–æ–∫–∏ |
| **temperature** | 0.0-2.0 | 0=—Ç–æ—á–Ω–æ, 2=—Å–ª—É—á–∞–π–Ω–æ |
| **top_k** | 1-100 | –ú–µ–Ω—å—à–µ=–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ |
| **top_p** | 0.0-1.0 | –ú–µ–Ω—å—à–µ=—Ñ–æ–∫—É—Å |
| **repeat_penalty** | 0.5-2.0 | –®—Ç—Ä–∞—Ñ –∑–∞ –ø–æ–≤—Ç–æ—Ä |

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ö–Ω–æ–ø–∫–∞ Optimization –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞?**
A: –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ vendor "Ollama" –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏.

**Q: –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é?**
A: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Comparison —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–µ—Å–µ—Ç–∞–º–∏ –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –ø—Ä–æ–º–ø—Ç–æ–º.

**Q: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç tok/s?**
A: –¢–æ–∫–µ–Ω–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É. –ß–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è.

**Q: –ö–∞–∫–æ–π –ø—Ä–µ—Å–µ—Ç –≤—ã–±—Ä–∞—Ç—å?**
A:
- –ù–∞—á–Ω–∏—Ç–µ —Å "Balanced"
- –ï—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ ‚Üí "Fast"
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å ‚Üí "Quality" –∏–ª–∏ "Precise"
- –î–ª—è –∫—Ä–µ–∞—Ç–∏–≤–∞ ‚Üí "Creative"

**Q: –ú–æ–∂–Ω–æ –ª–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏?**
A: –ü–æ–∫–∞ –Ω–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å –≤ Settings –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å–µ 5 –ø—Ä–µ—Å–µ—Ç–æ–≤
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ A/B —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á
4. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
5. ‚úÖ –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–∏

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [OLLAMA_OPTIMIZATION.md](OLLAMA_OPTIMIZATION.md)

üîó –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Ollama: https://github.com/ollama/ollama/blob/main/docs/modelfile.md#valid-parameters-and-values

---

**–°–æ–≤–µ—Ç**: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤! –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
